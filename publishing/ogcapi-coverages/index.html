
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="pygeoapi is an OGC Reference Implementation supporting numerous OGC API specifications. This workshop will cover publishing geospatial data to the Web using pygeoapi in support of the suite of OGC API standards.">
      
      
        <meta name="author" content="The pygeoapi community">
      
      
        <link rel="canonical" href="https://geopython.github.io/diving-into-pygeoapi/publishing/ogcapi-coverages/">
      
      
        <link rel="prev" href="../ogcapi-features/">
      
      
        <link rel="next" href="../ogcapi-tiles/">
      
      
      <link rel="icon" href="../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.20">
    
    
      
        <title>Exercise 3 - Raster data via OGC API - Coverages - Diving into pygeoapi</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.66ac8b77.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/pygeoapi.css">
    
      <link rel="stylesheet" href="../../assets/stylesheets/termynal.css">
    
      <link rel="stylesheet" href="../../assets/stylesheets/custom.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="pygeoapi" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#exercise-3-raster-data-via-ogc-api-coverages" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Diving into pygeoapi" class="md-header__button md-logo" aria-label="Diving into pygeoapi" data-md-component="logo">
      
  <img src="../../assets/images/pygeoapi-icon-notrans.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Diving into pygeoapi
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Exercise 3 - Raster data via OGC API - Coverages
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/geopython/diving-into-pygeoapi" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Diving into pygeoapi" class="md-nav__button md-logo" aria-label="Diving into pygeoapi" data-md-component="logo">
      
  <img src="../../assets/images/pygeoapi-icon-notrans.png" alt="logo">

    </a>
    Diving into pygeoapi
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/geopython/diving-into-pygeoapi" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction to pygeoapi
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Workshop environment setup
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../standards/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Standards
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Publishing
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Publishing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../first/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercise 1 - Your first dataset
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ogcapi-features/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercise 2 - Vector data via OGC API - Features
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Exercise 3 - Raster data via OGC API - Coverages
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Exercise 3 - Raster data via OGC API - Coverages
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pygeoapi-support" class="md-nav__link">
    <span class="md-ellipsis">
      pygeoapi support
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#publish-a-raster-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Publish a raster dataset
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#client-access" class="md-nav__link">
    <span class="md-ellipsis">
      Client access
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Client access">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gdalogr" class="md-nav__link">
    <span class="md-ellipsis">
      GDAL/OGR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#owslib" class="md-nav__link">
    <span class="md-ellipsis">
      OWSLib
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ogcapi-tiles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercise 4 - Tiles of geospatial data via OGC API - Tiles
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ogcapi-maps/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercise 5 - Maps of geospatial data via OGC API - Maps
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ogcapi-records/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercise 6 - Metadata via OGC API - Records
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ogcapi-edr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercise 7 - Environmental data via OGC API - Environmental Data Retrieval
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ogcapi-processes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercise 8 - Functions via OGC API - Processes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../advanced/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Advanced topics
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Advanced topics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/i18n/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multilingual support
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/crs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CRS support
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/ui-custom-templates/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    UI customization and templating
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/downstream-applications/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using pygeoapi in downstream applications
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/seo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Search Engine Optimization (SEO)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/security-access-control/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security and access control
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/semantic-web-linked-data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Semantic Web and Linked Data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/cloud/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cloud deployment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/inspire/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    INSPIRE support
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advanced/bridges/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exercise 9 - pygeoapi as a bridge to other services
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../conclusion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conclusion
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pygeoapi-support" class="md-nav__link">
    <span class="md-ellipsis">
      pygeoapi support
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#publish-a-raster-dataset" class="md-nav__link">
    <span class="md-ellipsis">
      Publish a raster dataset
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#client-access" class="md-nav__link">
    <span class="md-ellipsis">
      Client access
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Client access">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gdalogr" class="md-nav__link">
    <span class="md-ellipsis">
      GDAL/OGR
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#owslib" class="md-nav__link">
    <span class="md-ellipsis">
      OWSLib
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="exercise-3-raster-data-via-ogc-api-coverages">Exercise 3 - Raster data via OGC API - Coverages</h1>
<p><a href="https://ogcapi.ogc.org/coverages">OGC API - Coverages</a> provides a Web API to access raster
data (grids, remote sensing data, multidimensional data cubes):</p>
<ul>
<li><a href="https://docs.ogc.org/DRAFTS/19-087.html">OGC API - Coverages</a> (<strong>draft</strong>)</li>
</ul>
<h2 id="pygeoapi-support">pygeoapi support</h2>
<p>pygeoapi supports the OGC API - Coverages draft specification, with <a href="https://rasterio.readthedocs.io">rasterio</a> and <a href="https://docs.xarray.dev">xarray</a> as core backends
as well as <a href="https://covjson.org">CoverageJSON</a> and native output.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See <a href="https://docs.pygeoapi.io/en/latest/data-publishing/ogcapi-coverages.html">the official documentation</a> for more information on supported raster backends</p>
</div>
<h2 id="publish-a-raster-dataset">Publish a raster dataset</h2>
<p>In the previous exercises we have demonstrated the steps involved to publish vector data and update the pygeoapi configuration. In this section we are going to
publish a raster file in GeoTIFF format, from a <a href="https://rasterio.readthedocs.io">rasterio</a> source provider.</p>
<p>Download and unzip the GeoTIFF file:</p>
<div class="termy">
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>workshop/exercises/data
curl<span class="w"> </span>-O<span class="w"> </span>http://dati.cittametropolitana.fi.it/geonetwork/srv/api/records/cmfi:419774cb-e812-4ca4-991d-97f0b747e017/attachments/53.zip
unzip<span class="w"> </span><span class="m">53</span>.zip
</code></pre></div>
</div>

<p>If you do not have curl installed, copy the URL above to your web browser and save locally.</p>
<p>You can now add <code>53_ED1_G.tif</code> to pygeoapi:</p>
<div class="admonition question">
<p class="admonition-title">Update the pygeoapi configuration</p>
<p>Open the pygeoapi configuration file in a text editor. Add a new dataset section as follows:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nt">firenze-terrains</span><span class="p">:</span>
<span class="w">    </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">collection</span>
<span class="w">    </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Administrative boundaries before 2014</span>
<span class="w">    </span><span class="nt">description</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Cadastral parcels (terrains) from the cadastre. Territory Agency; SIT and Information Networks;</span>
<span class="w">    </span><span class="nt">keywords</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Cadastral parcels</span>
<span class="w">    </span><span class="nt">links</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">text/html</span>
<span class="w">          </span><span class="nt">rel</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">canonical</span>
<span class="w">          </span><span class="nt">title</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Administrative boundaries before 2014</span>
<span class="w">          </span><span class="nt">href</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://dati.cittametropolitana.fi.it/geonetwork/srv/metadata/cmfi:419774cb-e812-4ca4-991d-97f0b747e017</span>
<span class="w">          </span><span class="nt">hreflang</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">it</span>
<span class="w">    </span><span class="nt">extents</span><span class="p">:</span>
<span class="w">        </span><span class="nt">spatial</span><span class="p">:</span>
<span class="w">            </span><span class="nt">bbox</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">10.70</span><span class="p p-Indicator">,</span><span class="nv">43.43</span><span class="p p-Indicator">,</span><span class="nv">11.76</span><span class="p p-Indicator">,</span><span class="nv">44.25</span><span class="p p-Indicator">]</span>
<span class="w">            </span><span class="nt">crs</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://www.opengis.net/def/crs/OGC/1.3/CRS84</span>
<span class="w">    </span><span class="nt">providers</span><span class="p">:</span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">coverage</span>
<span class="w">          </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">rasterio</span>
<span class="w">          </span><span class="nt">data</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/data/53_ED1_G.tif</span><span class="w"> </span><span class="c1"># place correct path here</span>
<span class="w">          </span><span class="nt">format</span><span class="p">:</span>
<span class="w">              </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">GTiff</span>
<span class="w">              </span><span class="nt">mimetype</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">application/tiff</span>
</code></pre></div></td></tr></table></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>The rasterio provider <code>format.name</code> directive <strong>requires</strong> a valid <a href="https://gdal.org/drivers/raster/index.html">GDAL raster driver short name</a></p>
</div>
<p>Save the configuration and restart Docker Compose. Navigate to <a href="http://localhost:5000/collections">http://localhost:5000/collections</a> to evaluate whether the new dataset has been published.</p>
<h2 id="client-access">Client access</h2>
<h3 id="gdalogr">GDAL/OGR</h3>
<p><a href="https://gdal.org">GDAL/OGR</a> provides support for <a href="https://gdal.org/drivers/raster/ogcapi.html">OGC API - Coverages</a>. This means you can use <code>gdalinfo</code> to query and convert data from OGC API - Coverages endpoints just like any other raster data source.  This also means you can make connections to OGC API - Coverages endpoints from any software which has an interface to GDAL, such as MapServer, GeoServer, Manifold, FME, ArcGIS, etc.</p>
<div class="admonition question">
<p class="admonition-title">Use GDAL to interact with OGC API - Coverages</p>
<ul>
<li>Verify you have a recent GDAL installed, else use GDAL from OSGeoLive</li>
<li>Run <code>gdalinfo</code> on the command line to verify a connection to OGC API - Coverages:</li>
</ul>
<p><div class="termy">
<div class="highlight"><pre><span></span><code>gdalinfo OGCAPI:https://maps.ecere.com/ogcapi/collections/SRTM_ViewFinderPanorama
</code></pre></div>
</div></p>
</div>
<h3 id="owslib">OWSLib</h3>
<p><a href="https://owslib.readthedocs.io">OWSLib</a> is a Python library to interact with OGC Web Services and supports a number of OGC APIs including OGC API - Coverages.</p>
<div class="admonition question">
<p class="admonition-title">Interact with OGC API - Coverages via OWSLib</p>
<p>If you do not have Python installed, consider running this exercise in a Docker container. See the <a href="../../setup/#using-docker-for-python-clients">Setup Chapter</a>. </p>
<p><div class="termy">
<div class="highlight"><pre><span></span><code>pip3<span class="w"> </span>install<span class="w"> </span>owslib
</code></pre></div>
</div></p>
<p><div class="termy">
<div class="highlight"><pre><span></span><code><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">owslib.ogcapi.coverages</span> <span class="kn">import</span> <span class="n">Coverages</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">SERVICE_URL</span> <span class="o">=</span> <span class="s1">&#39;https://demo.pygeoapi.io/master/&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">w</span> <span class="o">=</span> <span class="n">Coverages</span><span class="p">(</span><span class="n">SERVICE_URL</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">w</span><span class="o">.</span><span class="n">url</span>
<span class="s1">&#39;https://demo.pygeoapi.io/master/&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">gdps</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;gdps-temperature&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">gdps</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>
<span class="s1">&#39;gdps-temperature&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">gdps</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span>
<span class="s1">&#39;Global Deterministic Prediction System sample&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">gdps</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span>
<span class="s1">&#39;Global Deterministic Prediction System sample&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">schema</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">collection_schema</span><span class="p">(</span><span class="s1">&#39;gdps-temperature&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">schema</span><span class="p">[</span><span class="s1">&#39;field&#39;</span><span class="p">])</span>
<span class="mi">1</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;properties&#39;</span><span class="p">][</span><span class="s1">&#39;1&#39;</span><span class="p">][</span><span class="s1">&#39;title&#39;</span><span class="p">]</span>
<span class="s1">&#39;Temperature [C]&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;properties&#39;</span><span class="p">][</span><span class="s1">&#39;1&#39;</span><span class="p">][</span><span class="s1">&#39;x-ogc-unit&#39;</span><span class="p">]</span>
<span class="s1">&#39;[C]&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">schema</span><span class="p">[</span><span class="s1">&#39;properties&#39;</span><span class="p">][</span><span class="s1">&#39;1&#39;</span><span class="p">][</span><span class="s1">&#39;type&#39;</span><span class="p">]</span>
<span class="s1">&#39;number&#39;</span>
</code></pre></div>
</div></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See the official <a href="https://owslib.readthedocs.io/en/latest/usage.html#ogc-api">OWSLib documentation</a> for more examples.</p>
</div>
<h1 id="summary">Summary</h1>
<p>Congratulations! You are now able to publish raster data to pygeoapi.</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2023 pygeoapi community
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.indexes"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.dd8806f2.min.js"></script>
      
        <script src="../../assets/javascripts/termynal.js"></script>
      
        <script src="../../assets/javascripts/custom.js"></script>
      
    
  </body>
</html>